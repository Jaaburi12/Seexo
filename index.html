<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Laam P2P Simulation</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0f172a;
    --card: rgba(255, 255, 255, 0.05);
    --accent: #7c3aed;
    --text: #e6eef8;
    --muted: #9aa4b2;
    --radius: 12px;
  }
  *{box-sizing:border-box; margin:0; padding:0; font-family: 'Inter', system-ui, Arial;}
  body{background: linear-gradient(180deg,#071022,#0f172a); color: var(--text); display:flex; justify-content:center; align-items:center; min-height:100vh; padding:20px;}
  .container{width:100%; max-width:980px;}
  .card{background: var(--card); padding:24px; border-radius: var(--radius); box-shadow:0 10px 30px rgba(0,0,0,0.5);}
  h1{font-size:24px; margin-bottom:12px;}
  h2{font-size:20px; margin-bottom:12px;}
  input{width:100%; padding:10px 12px; margin-bottom:12px; border-radius:8px; border:none; background: rgba(255,255,255,0.08); color:var(--text);}
  button{padding:10px 16px; border:none; border-radius:8px; cursor:pointer; font-weight:600; transition:0.3s;}
  .btn-primary{background: var(--accent); color:#fff;}
  .btn-primary:hover{opacity:0.85;}
  .btn-ghost{background: transparent; border:1px solid rgba(255,255,255,0.2); color:var(--text);}
  .btn-ghost:hover{background: rgba(255,255,255,0.1);}
  .hidden{display:none;}
  .trade-section{display:flex; flex-direction:column; gap:16px;}
  .trade-card{background: rgba(255,255,255,0.05); padding:16px; border-radius: var(--radius); display:flex; justify-content:space-between; align-items:center;}
  .trade-card span{font-weight:600;}
  .header{display:flex; justify-content:space-between; align-items:center; margin-bottom:24px;}
  table{width:100%; border-collapse:collapse; margin-top:16px;}
  th, td{padding:10px; text-align:left; border-bottom:1px solid rgba(255,255,255,0.1);}
  @media(max-width:768px){.trade-card{flex-direction:column; align-items:flex-start; gap:8px;}}
</style>
</head>
<body>
  <div class="container">
    <!-- LOGIN / REGISTER -->
    <div id="authSection" class="card">
      <div class="header">
        <h1>Laam P2P</h1>
        <div>
          <button id="showLogin" class="btn-ghost">Login</button>
          <button id="showRegister" class="btn-ghost">Register</button>
        </div>
      </div>
      <div id="loginForm">
        <h2>Login</h2>
        <input type="text" id="loginUsername" placeholder="Username">
        <input type="password" id="loginPassword" placeholder="Password">
        <button id="btnLogin" class="btn-primary">Login</button>
      </div>
      <div id="registerForm" class="hidden">
        <h2>Register</h2>
        <input type="text" id="regUsername" placeholder="Username">
        <input type="password" id="regPassword" placeholder="Password">
        <button id="btnRegister" class="btn-primary">Register</button>
      </div>
    </div><!-- TRADES SECTION -->
<div id="tradeSection" class="card hidden">
  <div class="header">
    <h1>Laam P2P Trades</h1>
    <button id="btnLogout" class="btn-ghost">Logout</button>
  </div>
  <div class="trade-section">
    <div class="trade-card">
      <div><span>Buy USDT</span></div>
      <div><button class="btn-primary" onclick="executeTrade('buy', 10)">Buy 10 USDT</button></div>
    </div>
    <div class="trade-card">
      <div><span>Sell USDT</span></div>
      <div><button class="btn-primary" onclick="executeTrade('sell', 5)">Sell 5 USDT</button></div>
    </div>
  </div>
  <h2>Ledger (Simulated Off-chain)</h2>
  <table id="ledgerTable">
    <thead>
      <tr><th>Type</th><th>Amount</th><th>Status</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

  </div>
<script>
// --- DOM Elements ---
const authSection = document.getElementById('authSection');
const loginForm = document.getElementById('loginForm');
const registerForm = document.getElementById('registerForm');
const showLogin = document.getElementById('showLogin');
const showRegister = document.getElementById('showRegister');
const btnLogin = document.getElementById('btnLogin');
const btnRegister = document.getElementById('btnRegister');
const loginUsername = document.getElementById('loginUsername');
const loginPassword = document.getElementById('loginPassword');
const regUsername = document.getElementById('regUsername');
const regPassword = document.getElementById('regPassword');
const tradeSection = document.getElementById('tradeSection');
const btnLogout = document.getElementById('btnLogout');
const ledgerTable = document.querySelector('#ledgerTable tbody');// Show / Hide forms showLogin.addEventListener('click', ()=>{loginForm.classList.remove('hidden'); registerForm.classList.add('hidden');}); showRegister.addEventListener('click', ()=>{registerForm.classList.remove('hidden'); loginForm.classList.add('hidden');});

// Register btnRegister.addEventListener('click', ()=>{ const username = regUsername.value.trim(); const password = regPassword.value.trim(); if(!username || !password){ alert('Please enter username and password'); return; } localStorage.setItem('p2pUser', JSON.stringify({username,password})); alert('Registration successful! Redirecting to Trades...'); showTrades(); });

// Login btnLogin.addEventListener('click', ()=>{ const username = loginUsername.value.trim(); const password = loginPassword.value.trim(); const stored = JSON.parse(localStorage.getItem('p2pUser')); if(!stored){ alert('No registered user found. Please register.'); return; } if(username === stored.username && password === stored.password){ alert('Login successful! Redirecting to Trades...'); showTrades(); } else { alert('Incorrect username or password'); } });

// Show Trades function showTrades(){ authSection.classList.add('hidden'); tradeSection.classList.remove('hidden'); loadLedger(); }

// Logout btnLogout.addEventListener('click', ()=>{ tradeSection.classList.add('hidden'); authSection.classList.remove('hidden'); });

// Auto-login if registered window.addEventListener('load', ()=>{ const stored = JSON.parse(localStorage.getItem('p2pUser')); if(stored){ showTrades(); } });

// --- Trade Simulation --- function executeTrade(type, amount){ const entry = { type, amount, status: 'Pending Escrow' }; let ledger = JSON.parse(localStorage.getItem('ledger') || '[]'); ledger.push(entry); localStorage.setItem('ledger', JSON.stringify(ledger)); loadLedger(); alert(${type.toUpperCase()} ${amount} USDT executed. Status: Pending Escrow); }

function loadLedger(){ const ledger = JSON.parse(localStorage.getItem('ledger') || '[]'); ledgerTable.innerHTML = ''; ledger.forEach(e=>{ const row = document.createElement('tr'); row.innerHTML = <td>${e.type}</td><td>${e.amount}</td><td>${e.status}</td>; ledgerTable.appendChild(row); }); } </script>

</body>
  </html>
